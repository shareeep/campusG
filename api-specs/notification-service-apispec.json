{"definitions":{"Notification":{"properties":{"correlation_id":{"nullable":true,"type":"string"},"created_at":{"format":"date-time","type":"string"},"customer_id":{"nullable":true,"type":"string"},"event":{"description":"JSON string of the logged event/message","type":"string"},"event_type":{"nullable":true,"type":"string"},"notification_id":{"format":"uuid","type":"string"},"order_id":{"nullable":true,"type":"string"},"runner_id":{"nullable":true,"type":"string"},"source_service":{"nullable":true,"type":"string"},"source_topic":{"nullable":true,"type":"string"},"status":{"nullable":true,"type":"string"}},"type":"object"}},"info":{"description":"powered by Flasgger","termsOfService":"/tos","title":"A swagger API","version":"0.0.1"},"paths":{"/health":{"get":{"responses":{"200":{"description":"Service is healthy.","schema":{"properties":{"status":{"example":"healthy","type":"string"}},"type":"object"}}},"summary":"Basic health check endpoint","tags":["Health"]}},"/order/{order_id}":{"get":{"parameters":[{"description":"The ID of the order.","in":"path","name":"order_id","required":true,"type":"string"}],"responses":{"200":{"description":"List of notifications retrieved.","schema":{"items":{"$ref":"#/definitions/Notification"},"type":"array"}},"404":{"description":"No notifications found for this order."}},"summary":"Get all notification log entries for an order.","tags":["Notifications"]}},"/order/{order_id}/latest":{"get":{"parameters":[{"description":"The ID of the order.","in":"path","name":"order_id","required":true,"type":"string"}],"responses":{"200":{"description":"Latest notification retrieved.","schema":{"$ref":"#/definitions/Notification"}},"404":{"description":"No notifications found for this order."}},"summary":"Get the latest notification log entry for an order.","tags":["Notifications"]}},"/send-notification":{"post":{"consumes":["application/json"],"description":"Creates a notification record directly in the database. This endpoint is primarily for manual logging or testing and does NOT trigger actual user notifications or Kafka events.","parameters":[{"in":"body","name":"body","required":true,"schema":{"properties":{"customerId":{"example":"cust_123","type":"string"},"event":{"example":"Manual notification message","type":"string"},"orderId":{"example":"order_789","type":"string"},"runnerId":{"description":"Optional runner ID.","example":"runner_456","type":"string"}},"required":["customerId","orderId","event"],"type":"object"}}],"produces":["application/json"],"responses":{"201":{"description":"Notification record created successfully.","schema":{"properties":{"message":{"type":"string"},"notification":{"$ref":"#/definitions/Notification"},"success":{"example":true,"type":"boolean"}},"type":"object"}},"400":{"description":"Bad Request (e.g., missing fields)"},"500":{"description":"Internal Server Error"}},"summary":"Manually create a notification log entry.","tags":["Notifications"]}}},"swagger":"2.0"}
